var yoania=function(){"use strict";var e=klass(function(){this._eventListeners=[]}).methods({on:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[];var s=this._eventListeners[e];s.push(t)},off:function(e,t){var s=this._eventListeners[e];s&&s.pop(t)},clear:function(){this._eventListeners=[]},trigger:function(e,t){for(var s=this._eventListeners[e]||[],r=0;r<s.length;r++){var i=s[r];try{i.apply(this,t)}catch(n){console.error("Exception calling back the event '"+e+"'")}}}}),t={READY:0,BUFFERING:1,ERROR:2},s=e.extend(function(){this._bufferingState=t.READY,this._resources={}}).methods({addResource:function(e,s){this._resources[e]=s||t.BUFFERING,this._checkResources()},removeResource:function(e){var t=this._resources.indexOf(e);this._resources.splice(t,1),this._checkResources()},changeResourceBufferingState:function(e,t){this._resources[e]=t,this._checkResources()},getState:function(){return this._bufferingState},clear:function(){this.supr(),this._bufferingState=t.READY,this._resources={}},_checkResources:function(){this._bufferingState=t.READY;for(var e in this._resources){var s=this._resources[e];s===t.BUFFERING?this.trigger("buffering",[e]):s===t.ERROR&&this.trigger("error",[e]),s!==t.READY&&this._bufferingState!==t.ERROR&&(this._bufferingState=s)}this._bufferingState===t.READY&&this.trigger("ready",[])}});return{BufferingState:t,bufferingControl:new s,mainTimelineControl:new e}}();