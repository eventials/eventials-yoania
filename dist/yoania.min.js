var yoania=function(){"use strict";var e=klass(function(){this._eventListeners=[]}).methods({on:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[];var r=this._eventListeners[e];r.push(t)},clear:function(){this._eventListeners=[]},_triggerEvent:function(e,t){for(var r=this._eventListeners[e]||[],s=0;s<r.length;s++){var i=r[s];try{i.apply(this,t)}catch(n){console.error("Exception calling back the event '"+e+"'")}}}}),t={READY:0,BUFFERING:1,ERROR:2},r=e.extend(function(){this._bufferingState=t.READY,this._resources={}}).methods({addResource:function(e,r){this._resources[e]=r||t.BUFFERING},removeResource:function(e){var t=this._resources.indexOf(e);this._resources.splice(t,1)},changeResourceBufferingState:function(e,t){this._resources[e]=t,this._checkResources()},getState:function(){return this._bufferingState},clear:function(){this.supr(),this._bufferingState=t.READY,this._resources={}},_checkResources:function(){this._bufferingState=t.READY;for(var e in this._resources){var r=this._resources[e];r===t.BUFFERING?this._triggerEvent("buffering",[e]):r===t.ERROR&&this._triggerEvent("error",[e]),r!==t.READY&&this._bufferingState!==t.ERROR&&(this._bufferingState=r)}this._bufferingState===t.READY&&this._triggerEvent("ready",[])}});return{BufferingState:t,bufferingControl:new r,mainTimelineControl:new e}}();